## 进程与线程区别的最常见解释：

* 进程是资源分配的基本单位，线程是CPU调度的基本单位

## 线程的特点：

* 多个线程共享一个地址空间（共享代码段-包括代码和常量；数据段-全局变量和静态变量；拓展段-堆存储）
* 每个线程有自己的一个堆栈，一组寄存器变量，一个优先权
* 一个进程中的多个线程可以共享进程中的资源（包括内存和其他资源）
* 线程之间的通信可以直接通过读写共享的内存来实现

## 线程与进程：

  * 进程控制块（PCB-Process control block）包含三类信息
    * 标识信息
      用于唯一地标识一个进程，常常分由用户使用的外部标识符和被系统使用的内部标识号。
    * 现场信息
      用于保留一个进程在运行时存放在处理器现场中的各种信息，任何一个进程在让出处理器时必须把此时的处理器现场信息保存到进程控制块中，而当该进程重新护肤运行时也应恢复处理器现场。 常用的现场信息包括：
      * 通用寄存器中的内容
      * 控制寄存器（如PSW寄存器）的内容
      * 用户堆栈指针
      * 系统堆栈指针
    * 控制信息
      用户管理和调度一个进程。常用的控制信息包括：
      * 进程的调度相关信息，如进程状态、等待事件和等待原因、进程优先级、队列指引元等
      * 进程组成信息，如正文段指针，数据段指针
      * 进程间通信相关信息，如消息队列指针、信号量等互斥和同步机制
      * 进程在辅助存储器内的地址
      * CPU资源的占用和使用信息，如时间片余量，进程已占用CPU的时间，进程已执行的时间总和，记账信息
      * 进程特权信息，如在内存访问和处理器状态方面的特权

  * 进程控制信息PCB的另一种分类

    进程控制块PCB的组织方式：双向循环链表

    * 另一种分类模型
      * 标志信息
        标识符：uid pid等
      * 控制信息
        进程状态
        进程调度信息
        进程通信相关信息
        进程间的关系
        时间和定时器信息
      * 上下文环境信息
        寄存器和堆栈信息->struct thread_struct * tss 任务切换状态
      * 资源信息
        文件系统信息
        虚拟内存信息：除了内核线程，每个进程都有自己的地址空间（虚拟空间），用mm_struct。
        页面管理信息：当物理内存不足时，linux内存管理子系统需要把内存中的部分页面交换到外存，其交换是以页为单位的。
        SMP信息
    > https://blog.csdn.net/xyouyubl/article/details/55809313?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522159819550519724839210306%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=159819550519724839210306&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v3~pc_rank_v2-13-55809313.first_rank_ecpm_v3_pc_rank_v2&utm_term=linux+pcb&spm=1018.2118.3001.4187
    > https://blog.csdn.net/Dawn_sf/article/details/78639785?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522159819550519724848339294%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=159819550519724848339294&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v3~pc_rank_v2-7-78639785.first_rank_ecpm_v3_pc_rank_v2&utm_term=linux+pcb&spm=1018.2118.3001.4187
  * 进程切换的过程
    * 保存处理器上下文，包括程序计数器和其他寄存器
    * 更新PCB信息
    * 把进程的PCB移入响应的队列，如就绪、在某事件阻塞等队列
    * 选择另一个进程执行，并更新其PCB
    * 更新内存管理的数据结构
    * 护肤处理器上下文

  * 线程有线程控制块（TCB-Thread control block）
    多线程，在进程空间内有多个控制流并且执行流程不一样，有各自独立的寄存器和堆栈，但是共享代码端，数据段，资源

  * 线程与进程的比较
    * 进程是资源分配单元（内存，打开的文件，访问的网络），线程是CPU调度单位，CPU也是一种特殊的资源，要执行控制流需要的相关信息
    * 进程拥有一个完整资源平台，而线程只独享必不可少的资源如寄存器和栈
    * 线程同样具有就绪，阻塞和执行三种基本状态和转换关系
    * 线程能减少并发执行的时空开销：
      线程的创建时间、终止时间、同一进程内线程的切换时间都更短，因为进程要创建一些对内存和打开的文件的管理信息，而线程可以直接用所属的进程的信息，因为同一进程内的线程有同一个地址空间，同一个页表，所有信息可以重用，无失效处理。而进程要切页表，开销大，访问的地址空间不一样，cache，TLB等硬件信息的访问开销大。另外线程的数据传递不用通过内核，直接通过内存地址可以访问到，效率很高。
> https://blog.csdn.net/qq_15037231/article/details/55046945
> https://blog.csdn.net/github_36487770/article/details/60144610?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522159763115119195264555868%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=159763115119195264555868&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v3~pc_rank_v2-1-60144610.first_rank_ecpm_v3_pc_rank_v2&utm_term=%E8%BF%9B%E7%A8%8Bpcb%E5%92%8C%E7%BA%BF%E7%A8%8Btcb%E5%8C%BA%E5%88%AB&spm=1018.2118.3001.4187

## 进程和程序的区别：

进程是程序及其数据在计算机上的一次运行活动，是一个动态的概念
进程是程序的一次执行过程

## 进程的组成：

  包括：程序、数据、进程控制块




